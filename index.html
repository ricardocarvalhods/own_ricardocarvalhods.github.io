<!DOCTYPE html>
<html>
  <head>
    <script src="js/jquery.min.js"></script>
    <script src="js/showdown.js"></script>
    <link rel="stylesheet" href="css/katex.min.css">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="js/katex.min.js"></script>


    <script>
      var conv = new showdown.Converter({emoji: true});
      function BODYtoMKDW(divid) {
        var txt = document.getElementById(divid).innerHTML;
        console.log(txt);
        document.getElementById(divid).innerHTML = conv.makeHtml(txt);
      }
      function contentFromFile(filename){
        // Create new div under body
        var elem = document.createElement('div');
        elem.setAttribute("id", filename);
        document.body.appendChild(elem);
        
        // Get file and put on new div created
        xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4) {
            if (this.status == 200) {
              responseMD = this.responseText;
              responseMDtex = katex.renderToString(responseMD, {throwOnError: false});
              responseHTML = conv.makeHtml(responseMDtex)
              document.getElementById(filename).innerHTML = responseHTML;
            }
            if (this.status == 404) {
              document.getElementById(filename).innerHTML = "Page not found.";
            }
          }
        }
        xhttp.open("GET", filename, true);
        xhttp.send();
      }
    </script>
  </head>
  <body>
    <div id="content">
# Ricardo Carvalho

Empty!
    </div> 
  <script> 
    BODYtoMKDW('content');
    contentFromFile('home.md');
  </script>
  </body>
</html>

